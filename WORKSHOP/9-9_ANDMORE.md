and more...
=============

## Realtime Databaseのキモ

### データ構造

- BaaSのコア機能
- RDBの概念を捨てる
	- 行・列
	- 主キーはエンティティのフィールドじゃない
	- 正規化・冗長データ
	- WHERE句/GROUP BYなどSELECT系が全然弱い
		- 基本複数条件を指定しての検索は無理（っぽい）
		- 検索用に別エンティティを切るとかデータ構造で対処するしかない
- 管理対象オブジェクトの単位でエンティティを切る
- オブジェクトのネストは極力避ける
- 多少データが冗長になっても細かく切っておいた方が柔軟に対応できる

### セキュリティ設定（データベースルール）

- セキュリティ設定がわかりにくい＆メンドクサイ
	- JavaScriptで条件をひたすら繋げて行く必要がある（しかも文字列として）
	- 正しいかどうかの判断が難しい
		- （一応）コンソール上にシミュレータはあるが。。
	- データ制約をロジックで書くのに慣れすぎ（？）
	- テスト手法やエンティティの細分化を検討
- とは言えデータを守る術はこれしかない
- 通常のデータベースセキュリティの概念は捨てる

## Firebaseの弱点

### サービス特性（特にデータ構造）と実現したいことの相性

- ↑であげた通りデータ検索系が弱いように感じる
- 例えばマスメンでやるような、いろんな角度で柔軟にデータを検索する機能はなかなか難しそう
- やりたいこととできることのアンマッチがおこらないように考えた方がいい

### セキュリティ

**大事なことだから２回言う**

- データベースルールが最初で最後の防波堤
- よく吟味する必要がある

> ↑であげたここと合わせて

### ロックイン

- 換えが効かない
- 部分的な変更が難しい
	- 認証やデータ連携などは一部可能な部分もある（が外接）
- Firebaseでできることから機能を組み立てるのは本末転倒

### ストレージのセキュリティでデータベースのデータを参照できない（？）

グループで写真を共有する機能などを実現する場合に、
グループメンバーであるかの判定ができない。

- 結構前にサポートに質問投げたけど、、返ってこない。。
- *絶賛情報募集中*

## Firebase Analytics

（Costまだネイティブ対応してないから知らない。。）

*なんかすげーんだと思うよ。たぶん。*
